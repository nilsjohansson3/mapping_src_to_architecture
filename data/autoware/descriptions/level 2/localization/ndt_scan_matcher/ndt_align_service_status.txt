<img src="./media/diagnostic_ndt_align_service_status.png" alt="drawing" width="600"/>

| Name                                | Description                                                                                                                                                                                                                                             | Transition condition to Warning | Transition condition to Error                               |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------- | ----------------------------------------------------------- |
| `service_call_time_stamp`           | the time stamp of service calling                                                                                                                                                                                                                       | none                            | none                                                        |
| `is_succeed_transform_initial_pose` | whether transform initial pose is succeed or not                                                                                                                                                                                                        | none                            | failed                                                      |
| `is_need_rebuild`                   | whether it need to rebuild the map. If the map has not been loaded yet or if `distance_last_update_position_to_current_position encounters` is an Error state, it is considered necessary to reconstruct the map, and `is_need_rebuild` becomes `True`. | none                            | none                                                        |
| `maps_size_before`                  | the number of maps before update map                                                                                                                                                                                                                    | none                            | none                                                        |
| `is_succeed_call_pcd_loader`        | whether call pcd_loader service is succeed or not                                                                                                                                                                                                       | failed                          | none                                                        |
| `maps_to_add_size`                  | the number of maps to be added                                                                                                                                                                                                                          | none                            | none                                                        |
| `maps_to_remove_size`               | the number of maps to be removed                                                                                                                                                                                                                        | none                            | none                                                        |
| `map_update_execution_time`         | the time for map updating                                                                                                                                                                                                                               | none                            | none                                                        |
| `maps_size_after`                   | the number of maps after update map                                                                                                                                                                                                                     | none                            | none                                                        |
| `is_updated_map`                    | whether map is updated. If the map update couldn't be performed or there was no need to update the map, it becomes `False`                                                                                                                              | none                            | `is_updated_map` is `False` but `is_need_rebuild` is `True` |
| `is_set_map_points`                 | whether the map points is set or not                                                                                                                                                                                                                    | not set                         | none                                                        |
| `is_set_sensor_points`              | whether the sensor points is set or not                                                                                                                                                                                                                 | not set                         | none                                                        |
| `best_particle_score`               | the best score of particle                                                                                                                                                                                                                              | none                            | none                                                        |
| `is_succeed_service`                | whether the process of service is succeed or not                                                                                                                                                                                                        | failed                          | none                                                        |

â€»
This diagnostic is only published when the service is called, so it becomes stale after the initial pose estimation is completed.